name: leirt-topology
topology:
  kinds:
    nokia_srlinux:
      image: ghcr.io/nokia/srlinux
    linux:
      image: ghcr.io/hellt/network-multitool
  nodes:
    mt1:
      kind: linux
      exec:
        - ip link set address 00:c1:ab:00:00:01 dev eth1
        - ip addr add 192.168.0.1/24 dev eth1
    mt2:
      kind: linux
      exec:
        - ip link set address 00:c1:ab:00:00:02 dev eth1
        - ip addr add 192.168.0.2/24 dev eth1
    lf-11:
      kind: nokia_srlinux
      mgmt-ipv4: 172.30.20.12
    lf-12:
      kind: nokia_srlinux
      mgmt-ipv4: 172.30.20.13
    sp-13:
      kind: nokia_srlinux
      mgmt-ipv4: 172.30.20.14
    sp-14:
      kind: nokia_srlinux
      mgmt-ipv4: 172.30.20.15

  links:
    - endpoints: ["mt1:eth1", "lf-11:ethernet-1/49"]
    - endpoints: ["mt2:eth1", "lf-12:ethernet-1/49"]

    - endpoints: ["lf-11:ethernet-1/1", "sp-13:ethernet-1/1"]
    - endpoints: ["lf-11:ethernet-1/2", "sp-14:ethernet-1/1"]
    
    - endpoints: ["lf-12:ethernet-1/1", "sp-13:ethernet-1/2"]
    - endpoints: ["lf-12:ethernet-1/2", "sp-14:ethernet-1/2"]

mgmt:
  network: containerlab-mgmt
  ipv4-subnet: 172.30.20.0/24
